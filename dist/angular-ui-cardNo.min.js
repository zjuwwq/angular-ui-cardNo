angular.module("zjuwwq.ui.cardNo",[]).directive("uiCardNo",function(){function a(a){if(a=angular.element(a)[0]){var b;if(a.selectionStart)b=a.selectionStart;else if(document.selection){a.focus();var c=document.selection.createRange();if(null!=c){var d=a.createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d),b=e.text.length}}return b}}function b(a,b){if(a=angular.element(a)[0])if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}}return{restrict:"A",require:"?ngModel",link:function(c,d,e,f){function g(a){return a?a.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").replace(/\s$/,""):a}d.on("input",function(){var c,e,f=d.val(),h=g(f);f!==h&&(c=a(d),e=f.substring(0,c).replace(/\s/g,"").length,d.val(h),c=e+Math.ceil(e/4)-1,b(d,c))}),f&&(f.$formatters.push(g),f.$parsers.unshift(function(a){return a.replace(/\s/g,"")}))}}});
//# sourceMappingURL=angular-ui-cardNo.min.map